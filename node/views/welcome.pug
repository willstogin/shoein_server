doctype html
html
  head
    link(rel='stylesheet', type='text/css', href='/static/styles.css')
  body
    div(style='\
    background-color:red;\
    width: 30%;\
    margin: 0 auto;\
    box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);\
    text-align: center;\
    background: -moz-linear-gradient(right, #B5A851, #5CC142);\
    background: -webkit-linear-gradient(right, #B5A851, #5CC142);\
    background: -o-linear-gradient(right, #B5A851, #5CC142);\
    background: linear-gradient(to left, #B5A851, #5CC142);\
    padding: 10px\
    ')
      h1 Welcome
      p You are logged in as #{user}.
      form(action='/logout', method='post')
        button(type='submit')  Log Out
    div(style='text-align: center; width: 100%; margin-top: 1%;')
      svg#Layer_2(version='1.1', xmlns='http://www.w3.org/2000/svg', xmlns:xlink='http://www.w3.org/1999/xlink', x='0px', y='0px', style='width:30%; height:30%', width='150px', height='150px', viewbox='5.02 -3.954 150 150', enable-background='new 5.02 -3.954 150 150', xml:space='preserve')
        g#spinner
          g(transform='matrix(1.000,0.000,0.000,1.000,-84.150,-14.450)')
            g
              path(opacity='0.122', fill='#00FF00', d='M152.151 71.151c2.073-.69 3.888-1.727 5.442-3.107h.13c1.556-1.38 2.807-3.063 3.757-5.047 1.988-4.054 2.247-8.196.778-12.423-1.469-4.228-4.19-7.334-8.164-9.318l-12.312-.647c-4.321 1.381-7.43 4.099-9.331 8.153-1.987 3.969-2.247 8.111-.778 12.424 1.383 4.141 4.104 7.204 8.166 9.188C143.814 72.358 147.918 72.617 152.151 71.151')
            path(fill='none', stroke='#000000', stroke-width='0.05', stroke-linecap='round', stroke-linejoin='round', d='M157.593 68.044h.13')
            g
              path(opacity='0.122', fill='#1A24E6', d='M175.867 41.386l-5.572 3.235c-1.556 1.38-2.766 3.019-3.63 4.917-1.987 3.969-2.247 8.067-.777 12.294 1.123 3.192 2.98 5.781 5.572 7.765l2.592 1.553c3.974 1.984 8.078 2.242 12.311.776 4.234-1.466 7.344-4.185 9.331-8.153l1.685-5.954-.907-6.471c-1.468-4.228-4.19-7.289-8.164-9.188C184.247 40.177 180.1 39.918 175.867 41.386')
            g
              path(opacity='0.122', fill='#F2FE01', d='M125.194 69.467c-4.233 1.467-7.343 4.229-9.33 8.283-1.988 3.969-2.246 8.067-.778 12.294 1.47 4.228 4.233 7.333 8.295 9.318 3.974 1.898 8.078 2.157 12.311.776l.648-.259c3.888-1.552 6.782-4.228 8.683-8.022 1.296-2.676 1.856-5.436 1.685-8.283l-.907-4.011c-1.296-3.625-3.456-6.385-6.48-8.283l-1.815-1.035C133.532 68.26 129.428 68.001 125.194 69.467')
            radialgradient#SVGID_1_(cx='69.1842', cy='587.5672', r='2.5933', fx='67.8876', fy='586.2706', gradienttransform='matrix(12.5645 0 0 -12.5182 -705.0267 7439.6914)', gradientunits='userSpaceOnUse')
              stop(offset='0', style='stop-color:#FFFFFF')
              stop(offset='1', style='stop-color:#CCCCCC')
            path(fill='url(#SVGID_1_)', d='M149.688 77.232c-1.037 1.984-1.598 4.056-1.684 6.213v.129c-.174 1.984.129 4.012.907 6.083 1.208 3.623 3.369 6.428 6.479 8.412l1.685.906c4.06 1.898 8.207 2.156 12.44.776 4.233-1.554 7.301-4.313 9.202-8.283 1.037-2.156 1.641-4.313 1.813-6.471l-.907-5.824c-1.468-4.313-4.233-7.418-8.293-9.316-3.974-1.984-8.078-2.243-12.312-.777l-.648.259C154.397 70.804 151.503 73.437 149.688 77.232')
            path(fill='none', stroke='#000000', stroke-width='0.05', stroke-linecap='round', stroke-linejoin='round', d='M148.004 83.445v.129')
            g
              path(opacity='0.122', fill='#E75303', d='M162.388 120.456c.95-2.07 1.469-4.098 1.555-6.083v-.128c.086-2.071-.216-4.142-.907-6.212-1.468-4.228-4.19-7.291-8.164-9.189-3.974-1.984-8.079-2.243-12.312-.776l-5.572 3.105c-1.556 1.382-2.809 3.063-3.759 5.048-1.987 3.968-2.247 8.067-.777 12.294 1.468 4.228 4.233 7.334 8.293 9.318 3.975 1.984 8.078 2.243 12.312.776C157.291 127.143 160.401 124.425 162.388 120.456')
            path(fill='none', stroke='#000000', stroke-width='0.05', stroke-linecap='round', stroke-linejoin='round', d='M163.943 114.373v-.128')
            g
              path(opacity='0.122', fill='#E90101', d='M175.996 98.844c-4.319 1.382-7.473 4.099-9.46 8.153-1.123 2.331-1.685 4.703-1.685 7.118 0 1.726.345 3.494 1.036 5.307 1.382 4.228 4.104 7.334 8.165 9.318 3.974 1.984 8.078 2.242 12.311.776 4.234-1.466 7.344-4.228 9.331-8.283 1.987-4.054 2.247-8.196.777-12.423-1.209-3.364-3.196-5.995-5.961-7.894l-2.203-1.294C184.247 97.637 180.143 97.378 175.996 98.844')
            g
              path(opacity='0.122', fill='#1B02FD', d='M183.383 78.656c-1.037 1.984-1.599 4.011-1.685 6.083v.129c-.173 1.984.129 4.054.907 6.211 1.468 4.227 4.233 7.334 8.293 9.318 3.974 1.898 8.078 2.158 12.312.776 4.233-1.466 7.344-4.227 9.331-8.281 1.901-3.97 2.117-8.067.648-12.295-1.47-4.227-4.19-7.333-8.165-9.318-4.061-1.984-8.208-2.243-12.441-.775C188.35 71.97 185.284 74.687 183.383 78.656')
            path(fill='none', stroke='#000000', stroke-width='0.05', stroke-linecap='round', stroke-linejoin='round', d='M181.698 84.739v.129')
    audio#looper(autoplay='autoplay', playcount='999', loop='true')
      source(src='zombo.ogg')
    #start_container(style='text-align: center; width: 100%; display:none;')
      a(href='javascript:ipad_start();', style='font-family: Helvetica; font-size: 44px;') Start
    script(type='text/javascript').
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-8093261-3']);
      _gaq.push(['_trackPageview']);
      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
      spinner = document.getElementById('spinner');
      angle = 0;
      function spin() {
      angle = angle + 80;
      if (angle > 360) angle = angle - 360;
      spinner.setAttribute("transform","rotate(" + angle + ", 81, 69)");
      setTimeout("spin()", 100);
      }
      function ipad_start() {
      document.getElementById('looper').play();
      document.getElementById('start_container').style.display = 'none';
      spin();
      }
      if (navigator.userAgent.indexOf('iPad') != -1) {
      document.getElementById('start_container').style.display = 'block';
      } else {
      spin();
      }





      var socket = io();
      socket.on('forceLogout', function(data) {
         console.log("I have been forced to logout due to an absence of authentication");
         //redirect to login
         window.location.href = "/static/login.html";
      });
